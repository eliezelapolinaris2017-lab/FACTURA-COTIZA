<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FACTURA-COTIZA</title>

  <!-- Favicon (opcional) -->
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Estilos -->
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase App + mÃ³dulos -->
  <script type="module" src="firebase-init.js"></script>
  <script type="module" src="app.js"></script>
</head>

<body>
  <header class="header">
    <h1>ðŸ§¾ FACTURA-COTIZA</h1>
    <p>GestiÃ³n de FacturaciÃ³n y Cotizaciones</p>
  </header>

  <main>
    <!-- Estado de autenticaciÃ³n -->
    <section id="secAuth" class="card center">
      <p>Estado: <span id="authState">Sin sesiÃ³n</span></p>
      <p>UID: <span id="uid">â€”</span></p>
      <button id="btnLogin" class="btn btn-primary">ðŸ”‘ Iniciar sesiÃ³n con Google</button>
      <button id="btnLogout" class="btn btn-danger" style="display:none">ðŸšª Cerrar sesiÃ³n</button>
    </section>

    <!-- Nuevo Documento -->
    <section id="secNuevo" class="card" style="display:none">
      <h2>ðŸ“„ Nuevo Documento</h2>
      <form id="formDoc">
        <label>Tipo:
          <select id="docType">
            <option value="Factura">Factura</option>
            <option value="CotizaciÃ³n">CotizaciÃ³n</option>
          </select>
        </label>

        <label>Cliente:
          <input type="text" id="docClient" placeholder="Nombre o empresa" required>
        </label>

        <label>Monto:
          <input type="number" id="docAmount" step="0.01" min="0" required>
        </label>

        <label>Pago:
          <select id="docPay">
            <option value="Efectivo">Efectivo</option>
            <option value="ATH">ATH</option>
            <option value="Tarjeta">Tarjeta</option>
            <option value="Transferencia">Transferencia</option>
          </select>
        </label>

        <label>Fecha:
          <input type="date" id="docDate" required>
        </label>

        <label>Notas:
          <textarea id="docNotes" placeholder="Detalles o comentarios"></textarea>
        </label>

        <button type="submit" class="btn btn-success">ðŸ’¾ Guardar Documento</button>
      </form>
    </section>

    <!-- Historial -->
    <section id="secHist" class="card" style="display:none">
      <h2>ðŸ“š Historial</h2>

      <!-- ðŸ”¹ Botones agregados -->
      <div class="toolbar" style="margin-bottom:12px; display:flex; gap:10px;">
        <button id="btnReload" class="btn btn-secondary">ðŸ”„ Recargar</button>
        <button id="btnCsv" class="btn btn-primary">ðŸ“¤ Exportar CSV</button>
      </div>

      <div id="listDocs" class="list"></div>
    </section>
  </main>

  <footer class="footer">
    <p>Â© 2025 FACTURA-COTIZA â€” Desarrollado con Firebase</p>
  </footer>
</body>
</html>
