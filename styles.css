/* ---------- Base ---------- */
:root{
  --bg:#0f1b2b;
  --bg-card:#111f30;
  --text:#e9eef5;
  --muted:#9fb3c8;
  --gold:#d7b357;
  --gold-2:#b79536;
  --border:#000;
  --shadow:0 6px 18px rgba(0,0,0,.35);
  --radius:14px;
  --max:1000px;
  --font:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; padding:0; background:var(--bg); color:var(--text); font-family:var(--font);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Header & Sidebar */
.header{ position:sticky; top:0; z-index:50; display:flex; gap:12px; align-items:center;
  padding:12px 16px; background:linear-gradient(180deg,#0f2033,#0d1a29); border-bottom:2px solid var(--border); }
.header .brand{ font-weight:800; letter-spacing:.6px; }
.header .auth{ margin-left:auto; display:flex; gap:8px; align-items:center; }
#btnToggle{ background:#0b1624; color:var(--text); border:2px solid var(--border); border-radius:10px; padding:8px 10px; font-size:18px; }

#sidebar{ position:fixed; inset:0 auto 0 0; width:280px; transform:translateX(-100%); transition:.25s ease;
  background:var(--bg-card); padding:18px; border-right:2px solid var(--border); z-index:40; }
#sidebar.open{ transform:translateX(0); }
#sidebar .navlink{ display:block; color:var(--text); text-decoration:none; padding:12px 10px; margin:8px 0;
  border:2px solid var(--border); border-radius:12px; background:#0d1c2d; }
#sidebar .navlink.active{ outline:2px solid var(--gold); }
.uid{ margin-top:18px; color:var(--muted); font-size:12px; }

/* Layout */
main{ max-width:var(--max); margin:16px auto; padding:0 14px; }
.card{ background:var(--bg-card); border:2px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); }
.view{ display:none; } .view.visible{ display:block; }

.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.grid3{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
@media (max-width:720px){ .grid2,.grid3{ grid-template-columns:1fr; } }

label{ display:block; margin:6px 0 6px; color:var(--muted); font-weight:600; }
input,select,textarea{ width:100%; padding:11px 12px; border-radius:12px; border:2px solid var(--border); background:#0b1624; color:var(--text); outline:none; }
textarea{ min-height:110px; resize:vertical; }

.tableWrap{ overflow-x:auto; border-radius:12px; border:2px solid var(--border); }
table{ width:100%; border-collapse:collapse; background:#0b1624; }
th,td{ border:2px solid var(--border); padding:10px; }
th{ text-align:left; color:#d8e6f6; }
td.right{ text-align:right; }
.amount{ border:2px solid var(--border); border-radius:10px; padding:10px; background:#0b1624; }

/* Buttons */
.btn{ background:linear-gradient(180deg,var(--gold),var(--gold-2)); color:#1a1506; font-weight:800; border:2px solid var(--border);
  padding:10px 16px; border-radius:12px; cursor:pointer; box-shadow:0 4px 0 rgba(0,0,0,.45); }
.btn:active{ transform:translateY(1px); box-shadow:0 3px 0 rgba(0,0,0,.45); }
.btn-dark{ background:#0b1624; color:var(--text); }
.btn-ghost{ background:transparent; color:var(--text); }
.toolbar{ display:flex; flex-wrap:wrap; gap:10px; }

/* PREVIEW pantalla */
#printContainer{ display:flex; justify-content:center; padding:20px; background:#e6eaef; }
#pdfSheet{
  width:210mm; min-height:297mm; background:#fff; color:#000; border:2px solid #ddd; border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,.18); padding:14mm; margin:0 auto;
}
#pdfHeader{ display:flex; align-items:flex-start; justify-content:space-between; gap:12mm; }
#pdfHeaderLeft{ flex:1 1 auto; }
#pdfHeaderRight{ flex:0 0 auto; display:flex; align-items:flex-start; justify-content:flex-end; }
#pLogo{ width:auto; height:auto; max-width:42mm; max-height:42mm; border:1px solid #ccc; border-radius:8px; object-fit:contain; }
#pdfTable{ width:100%; margin-top:10mm; }
#pdfTotals{ width:70mm; margin-left:auto; margin-top:6mm; border:1px solid #444; }
#pdfTotals td{ border:1px solid #444; padding:6px 8px; }
#pdfNotes{ margin-top:12mm; }
#pdfFooter{ display:flex; justify-content:space-between; align-items:center; margin-top:14mm; font-size:10px; color:#666; }
#pdfSheet.compact td, #pdfSheet.compact th{ padding:6px; font-size:12px; }

/* helpers */
.no-screen{ display:none; }
@media (min-width:900px){ .no-screen.show{ display:block; } }

/* IMPRESIÃ“N iOS friendly */
@media print{
  html,body{ background:#fff !important; height:auto !important; }
  .no-print,#sidebar,.header{ display:none !important; }

  #printContainer{ display:block !important; padding:0 !important; background:#fff !important; }
  #pdfSheet{
    width:210mm !important; min-height:297mm !important; margin:0 auto !important;
    padding:14mm !important; box-shadow:none !important; border:none !important;
    -webkit-print-color-adjust:exact !important; print-color-adjust:exact !important; color-adjust:exact !important;
    overflow:visible !important;
  }

  table{ page-break-inside:auto; }
  tr{ page-break-inside:avoid; page-break-after:auto; }
  #pdfTotals,#pdfHeader,#pdfFooter,#pdfNotes{ page-break-inside:avoid; }

  #pLogo{ max-width:42mm !important; max-height:42mm !important; }
}
